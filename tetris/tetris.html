<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../globalStyle.css" />
  <link rel="stylesheet" href="tetris.css" />
  <link rel="icon" href="../media/img/alien.png" type="image/png">
  <title>Tetris</title>
</head>

<body>
  <div class="ribbon">
    <button id="backButton" onclick="backButtonClicked()">Back</button>
  </div>

  <div id="gameContainer">
    <div class="title-wrapper">
      <button class="info-button" onclick="togglePopup()"></button>
      <div class="info-popup" id="infoPopup">
        Welcome to Space Wordle!
        <br>
        <br>
        How to play:
        <br>
        <br>
        In Tetris, the goal is to arrange falling blocks (tetrominoes) into complete horizontal lines.
        When a line is completed, it disappears, and you score points. As you clear more lines, the game speeds up.
        Use the arrow keys to move and rotate the blocks, trying to fit them together without gaps.
        If the blocks stack up to the top of the screen, the game is over.
        <br>
        W or Arrow Up = rotate, A or Arrow left = left, D or Arrow Right = right, S or Arrow Down = down
      </div>
      <h1 class="bigTitle">Space Tetris</h1>
    </div>

    <div id="gameMenu">
      <button id="startButton" onclick="startGame()">Start Game</button>
      <label for="speedSlider"><span id="speedSliderLabel">Tickrate: 600ms</span></label>
      <input type="range" id="speedSlider" min="1" max="3" value="2" step="1" onchange="updateSpeed()" />
      <span id="scoreInfo"></span>
    </div>

    <div class="canvasWrapper" style="position: relative;">
      <canvas id="gameCanvas" width="240" height="400"></canvas>
    </div>

    <h1 id="score" class="bigTitle">0</h1>
  </div>

  <audio id="bgMusic" loop>
    <source src="../media/sound/bgmusic.mp3" type="audio/mp3" />
  </audio>
  <video autoplay muted loop playsinline class="bgVideo">
    <source src="../media/vid/stars.mp4" type="video/mp4" />
  </video>
  <a class="credits" href="/credits.html">Credits</a>

  <button class="soundButton" onclick="toggleSound()">
    <svg class="sound-icon" viewBox="0 0 75 75">
      <use id="sound-icon-use" href="#sound-off-icon"></use>
    </svg>
  </button>
  <svg style="display: none;">
    <symbol id="sound-off-icon" viewBox="0 0 75 75" stroke="currentColor" stroke-width="5" fill="currentColor">
      <path d="m39,14-17,15H6V48H22l17,15z" stroke-linejoin="round" />
      <path d="m49,26 20,24m0-24-20,24" fill="none" stroke-linecap="round" />
    </symbol>

    <symbol id="sound-on-icon" viewBox="0 0 75 75" stroke="currentColor" stroke-width="5" fill="currentColor">
      <path d="M39.389,13.769 L22.235,28.606 L6,28.606 L6,47.699 L21.989,47.699 L39.389,62.75 L39.389,13.769z"
        stroke-linejoin="round" />
      <path d="M48,27.6a19.5,19.5 0 0 1 0,21.4
         M55.1,20.5a30,30 0 0 1 0,35.6
         M61.6,14a38.8,38.8 0 0 1 0,48.6" fill="none" stroke-linecap="round" />
    </symbol>
  </svg>
  <script src="tetris.js"></script>
  <script src="../globalScript.js"></script>
</body>

</html>